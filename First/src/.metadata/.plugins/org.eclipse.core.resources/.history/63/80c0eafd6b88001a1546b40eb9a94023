import java.util.ArrayList;
import java.util.Arrays;
import java.util.Random;
import java.util.Scanner;
public class hangManGame {
	static Scanner input = new Scanner(System.in);
	static Random random = new Random();
	public static char[] randomWordToGuess;
	public static int amountOfGuesses;
	public static char[] playerGuess;
	public static char guessInput;
	public static ArrayList<Character> wrongGuesses;


	public static void main(String[] args) {
		// TODO Auto-generated method stub
		choosesWordToBeGuessed();
		startGame();
			}
	public static void choosesWordToBeGuessed() {
		String[] guesses = {"programing", "bed", "candle", "pencil", "flower", "fruit", "juice", "fake", "light", "pen", "phone", "school"};
		randomWordToGuess = guesses[random.nextInt(guesses.length)].toCharArray();
	}
	public static void createPlayerGuess() {
		playerGuess = new char[randomWordToGuess.length];
		for (int i= 0; i< playerGuess.length; i++) {
			playerGuess[i] = '_';
		}
		System.out.println(playerGuess);
	}
	public static int isNextIntValid() {
		while(true) {
			try {
				return input.nextInt();
			}
			catch (Exception e) {
				System.out.println("Try writing a number instead");
				input.nextLine();
				continue;
			}
		}
	}
	public static void startGame() {
		System.out.println("Welcome to HangMan game!");
		System.out.println("In this game, you will get a random word to guess, and you will have limited amount of guesses");
		System.out.println("Do you want to play?");
		System.out.println("Please answer with 1 for yes, and 2 for no");
		
		boolean answering = true;
		while (answering) {
		int  doYouWantToPlay = isNextIntValid();
		if(doYouWantToPlay == 2) {
			System.out.println("Come back later!");
			break;
		}
		else if(doYouWantToPlay == 1) {
			System.out.println("Great you want to play!");
			System.out.println("Now choose the difficulty, type 1 for easy and 2 for advanced");
			int difficulty = isNextIntValid();
			switch (difficulty) {
			case 1:
				easyGameSetup();
				break;
				
			case 2:
				advancedGameSetup();
				break;	
			default:
				System.out.println("You did not follow the instructions! come back later");
			}
			break;
		}
		else if (doYouWantToPlay!=1 || doYouWantToPlay!= 2) {
			System.out.println("Please answer with 1 or 2");
		}
	  }
	}
	public static void easyGameSetup() {
		System.out.println("You have choosen the easy game");
		System.out.println("Good luck!");
		amountOfGuesses = randomWordToGuess.length + 5;
		guessTheWord();
	}
	public static void advancedGameSetup() {
		System.out.println("You have chosen the advanced game");
		System.out.println("Good luck!");
		amountOfGuesses = randomWordToGuess.length + 2;
		guessTheWord();
	}
	public static void guessTheWord() { 	
		System.out.println("The word you should guess is:");
		createPlayerGuess();
		System.out.println("the word is " + randomWordToGuess.length + " letters long and you only have " + amountOfGuesses + " guesses");
		
		boolean wordIsGuessed = false;
		while (!wordIsGuessed && amountOfGuesses!=0) {
			System.out.println("write your next guess");
				 guessInput = input.next().charAt(0);
				doesRightAnswerContainInput();
				
				amountOfGuesses--;
				wordIsGuessed = isWordGuessed();
				System.out.println("The word" + Arrays.toString(playerGuess));
				System.out.println("Your wrong guesses: " + wrongGuesses); // not working
				System.out.println("How many guesses left: " + amountOfGuesses);
		}
		if(wordIsGuessed= false || amountOfGuesses == 0) {
			System.out.println("You lost :(");
			System.out.println("The right anwer was:");
			System.out.println(randomWordToGuess);
		}
		
	}
	public static void doesRightAnswerContainInput() {
		boolean correctInput= false; 
		for(int i=0; i< randomWordToGuess.length; i++) {
			if(randomWordToGuess[i] == guessInput) {
				System.out.println("correct guess!");
				playerGuess[i] = guessInput;
				correctInput = true;
		  }
		}
		if (correctInput != true) {
			System.out.println("wrong guess!");
			wrongGuesses.add(guessInput);
		}
	}
	public static boolean isWordGuessed() { 
		for(int i=0; i<playerGuess.length; i++) {
			if (playerGuess[i] == '_') {
				return false;
			}
		}
		System.out.println("Congratulations! You have guessed the word");
		return true;
	}
		}

